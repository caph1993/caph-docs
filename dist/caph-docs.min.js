(()=>{"use strict";var __webpack_modules__={588:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>createParser});var _utils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(199);function htmlSafe(t){return new Option(t).innerHTML}const htmlSafeUndo=t=>{const[,e,n]=(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.Cq)(t.match(/^(\s*)(.*)$/s));return e+((new DOMParser).parseFromString(n,"text/html").documentElement.textContent||"")},AstParser=class{ESC="";SPEC="https://html.spec.whatwg.org/multipage/syntax.html";DEBUG=!1;str;values;pos;parsingRules;static parseAst({raw:t},...e){return new this(t,e).root}warn(...t){console.warn(...t)}error(...t){console.error(...t)}constructor(t,e,n=[],r=0){this.cls=this.constructor;let i=t.join(this.ESC),s={},o=new RegExp(`${this.ESC}|\\\\"|\\\\'`,"g");i=i.replace(o,((t,e)=>(s[e]=t,this.ESC))),this.pos=0,this.str=i,this.values=e,this.valueIndex=0,this.escaped=s,this.errorStop=!1,r&&console.log("PARSING",this.str),this.DEBUG=2==r,this.parsingRules=n,this.optionalClose=this.cls.optionalClose.bind(this.cls),this.REG_EXP_TEXT=new RegExp(`.*?(?=${["$","<",this.ESC,...this.parsingRules.map((({start:t})=>t.source))].join("|")})`,"ys"),this.parent=[null,null,[]],this.root=this.parent,this.parseRoot(),this.evalTree=(t,e)=>{const n=r=>{if(!Array.isArray(r))return r;let[i,s,o]=r;return"@injected"==i?r[2][0]:((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hu)(Array.isArray(o)),o=o.map((t=>n(t))),null==i&&((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hu)(null==s),i=e),t(i,s,...o))};return n(this.root)}}parseRoot(){try{this.parseChildrenAndParentClose(),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hu)(this.parent===this.root)}catch(t){if(console.log(t),"caph-parser-error"!==t.name)throw t;this.pos==this.str.length&&this.parent===this.root||this.error(t)}this.parent===this.root&&1==this.root[2].length&&(this.root=this.root[2][0])}get parentTag(){return this.parent[0]}get parentProps(){return this.parent[1]}get children(){return this.parent[2]}childlessTags={br:!0,"!doctype":!0,area:!0,base:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};static _optionalClose={li:["li"],dt:["dt","dd"],dd:["dd","dt"],p:["p","address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","menu","nav","ol","pre","section","table"],rt:["rt","rp"],rp:["rp","rt"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:[],tr:["tr"],td:["td","th"],th:["th","td"]};static optionalClose(t){return t&&(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.HD)(t)?this._optionalClose[t]:null}run(t){const{pos:e,str:n}=this;t.lastIndex=e;const r=t.exec(n);if(r||this.throw(`No match for ${t}`),r.index<e)throw`Regexp must use 'ys' flag. Match for at ${r.index} is before previous match at ${e}`;return this.pos+=r[0].length,r}tryRun(t){try{return this.run(t)}catch(t){return null}}tryRunUndo(t){const e=this.pos;try{return this.run(t)}catch(t){return null}finally{this.pos=e}}debugPosition(t=0,e=50){const{pos:n,str:r}=this,i=Math.max(0,n+t);return`${i}...${r.slice(i,i+e).replace("\n","(\\n)")}...${i+e}`}parseChildrenAndParentClose(t=null){for(;;){this.DEBUG&&console.log("parseSibling",this.parent,this.debugPosition());let[t]=this.run(this.REG_EXP_TEXT);if(t.length&&this.children.push(t),this.tryRun(new RegExp(`${this.ESC}`,"ys"))){let t=this.values[this.valueIndex++];for(t of Array.isArray(t)?t:[t])(t||0===t)&&this.children.push(["@injected",null,[t]]);continue}if(this.str.startsWith("<!",this.pos)){this.consumeComment();continue}let e,n=this.pos==this.str.length;if(n&&this.parentTag&&!this.optionalClose(this.parentTag)&&this.throw(`Expected closing tag </${this.parentTag}> or </>`),n)break;if(this.parsingRules.length){const t=(()=>{for(let{start:t,capture:e,component:n}of this.parsingRules){if(!this.tryRun(t))continue;const r=this.pos;let[i,s]=this.run(e);return s=this.replaceText(s,r),["div",{"(component)":n},[s]]}return null})();if(t){this.children.push(t);continue}}if(this.tryRun(/<\/\s*>/sy))break;if(this.tryRun(/<\//sy)){let t=this.tryRun(new RegExp("([^>\\s]+)\\s*>","ys"));t||this.throw(`Expected close tag for parent ${this.parentTag||"fragment"}`);let n=t[1];e=n==this.ESC?this.values[this.valueIndex++]:n,e!==this.parentTag&&this.throw(`Unmatched close tag ${e}!=${this.parentTag}`);break}const r=this.optionalClose(this.parentTag);if(r&&(()=>{for(let t of r)if(this.tryRunUndo(new RegExp(`<${t}(>|\\s)`,"ys")))return!0})())break;const i=[null,null,[]];this.children.push(i);const s=this.parent;this.parent=i,this.parseParent(s),null==i[0]&&((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hu)(this.children.pop()===i),this.children.push(...i[2]))}t&&"jsx"!=t?"tex"==t&&(this.parent[2]=this.cls.spacingRulesParagraphs(this.children)):this.parent[2]=this.cls.spacingRulesJsx(this.children)}parseParent(grandParent){this.DEBUG&&console.log("parseParent ",this.parent,this.debugPosition());let reg=new RegExp("<([^\\s>\\/\\.]*)","ys"),_tag=this.run(reg)[1],tag;_tag==this.ESC?(tag=this.values[this.valueIndex++],(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.HD)(tag)&&this.throw("Tag must be a component, not a string.")):_tag.length?_tag.match(/[^a-z0-9._-]/i)?this.throw(`Error with tag ${_tag}`):tag=_tag:tag=null,void 0===tag&&this.throw("Undefined component"),this.parent[0]=tag;let admitsChildren=!this.childlessTags[(""+tag)?.toLowerCase()],spacing=null;for(;;){this.run(/\s*/sy);const endReached=this.pos==this.str.length;if(endReached&&this.throw(`Expected closing end ...> or .../> for tag ${tag}`),this.tryRun(/\/>/sy)){admitsChildren=!1;break}if(this.tryRun(/>/sy))break;if(this.parentProps||(this.parent[1]={}),this.tryRun(new RegExp(`\\.\\.\\.${this.ESC}`,"ys")))this.parent[1]={...this.parentProps,...this.values[this.valueIndex++]};else{let[key]=this.run(/.*?(?=\s|>|=)/sy),_value=this.tryRun(/=/sy)&&this.run(new RegExp(`\\".*?\\"|\\'.*?\\'|${this.ESC}`,"ys"))[0],value;value=!_value||"''"==_value||'""'==_value||(_value==this.ESC?this.values[this.valueIndex++]:this.replaceText(_value.slice(1,-1),this.pos-_value.length+1)),key.endsWith("-eval")&&(key=key.slice(0,-5),value=eval(value));const prevValue=this.parentProps[key];if("class"==key||"style"==key?value=prevValue?prevValue+" "+value:value:void 0!==prevValue&&this.warn(`Replacing attribute ${key}.\nPrevious and new values:`,prevValue,value),key.startsWith("("))if("(component)"==key);else{if("(spacing)"==key){["jsx","pre","tex","raw"].includes(value)||this.throw(`Invalid spacing mode: ${value}`),spacing=value;continue}this.throw(`Invalid attribute: ${key}`)}this.parentProps[key]=value}}if(admitsChildren)if("style"==tag){let t=this.tryRun(/(.*?)<\/style\s*>/sy);t||this.throw("Style tag not closed properly."),this.parent[2]=[t[1]]}else if("script"==tag){let m=this.tryRun(/(.*?)<\/script\s*>/sy);m||this.throw("Script tag not closed properly.");let code=m[1];code.match(/^\s*(String\.raw)?\`(.*)\`\s*$/sy)?(code=eval(code),code=htmlSafe(code),this.parent[0]="div",this.parent[1]={"(component)":"code",...this.parentProps},this.parent[2]=[code]):this.parent[2]=[code]}else spacing||(spacing=!(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.HD)(tag)||"pre"!=tag&&"textarea"!=tag?"jsx":"pre"),this.parseChildrenAndParentClose(spacing);this.parent=grandParent}static spacingRulesJsx(t){const e=t.filter((t=>!(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.HD)(t))).reverse(),n=t.map((t=>(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.HD)(t)?t:"")).join(""),r=[];return n.split("").forEach(((t,n)=>{n&&r.push(e.pop()),t.length&&(t=function(t){return t.replace(/^(\s*)(.*?)(\s*)$/s,((t,e,n,r)=>(e.includes("\n")&&(e=""),r.includes("\n")&&(r=""),`${e}${n}${r}`)))}(t)),t.length&&r.push(t)})),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hu)(0==e.length),r}static spacingRulesPre(t){const e=t[0];return(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.HD)(e)&&e.startsWith("\n")&&(t[0]=t[0].slice(1)),t}static spacingRulesParagraphs(t){const e=t.filter((t=>!(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.HD)(t))).reverse(),n=t.map((t=>(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.HD)(t)?t:"")).join("").split(/\s*?\n\s*?\n\s*/s).map((t=>{const n=[];return t.split("").forEach(((t,r)=>{r&&n.push(e.pop()),t.length&&n.push(t)})),["div",{class:"caph-paragraph"},n]}));return(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hu)(0==e.length),n}throw(t){const e=new Error(`${t}\n      Ignoring what follows.\n      Error occurred here:\n      ${this.debugPosition(-5)}\n    `);throw e.name="caph-parser-error",e}consumeComment(){const t=new RegExp(["\x3c!--.*?--\x3e","<!\\[CDATA\\[.*?\\]\\]>","<!DOCTYPE\\s*.*?>"].join("|"),"iys");let e=this.tryRun(t);e||this.throw("Unexpected <!");let[n]=e;n.endsWith("/>")&&this.warn(`Non compliant tag found.\n${this.SPEC}`),this.replaceText(n,this.pos-n.length)}replaceText(t,e){return t.replace(new RegExp(this.ESC,"g"),((t,n)=>{(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hu)(this.str[e+n]===this.ESC);const r=this.escaped[e+n];return r!=this.ESC?r:this.values[this.valueIndex++]}))}},exampleCreateElement=(t,e,...n)=>!t||(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.HD)(t)?{tag:t,props:e,children:n}:t({children:n,...e}),exampleFragmentComponent=({children:t})=>({tag:null,props:null,children:t}),exampleParsingRules=[{component:"@mathInline",start:/(?<!\\)\$(?!\$)/y,capture:/(.*?)(?<!\\)\$/y},{component:"@mathDisplay",start:/(?<!\\)\$\$/y,capture:/(.*?)(?<!\\)\$\$/y},{component:"@codeInline",start:/(?<!\\)`(?!``)/y,capture:/(.*?)(?<!\\)`/y},{component:"@codeDisplay",start:/(?<!\\)```/y,capture:/(.*?)(?<!\\)```/y}],createParser=()=>{const t={createElement:exampleCreateElement,FragmentComponent:exampleFragmentComponent,parsingRules:exampleParsingRules,debug:0},e=(e,...n)=>new AstParser(e.raw,n,t.parsingRules,t.debug),n=t=>(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.HD)(t)?htmlSafeUndo(t):Array.isArray(t)?(t[2]=t[2].map((t=>n(t))),t):t,r=t=>{let r=e({raw:[t]});return r.root=n(r.root),r};return{settings:t,parse:(n,...r)=>e(n,...r).evalTree(t.createElement,t.FragmentComponent),parseAst:e,parseAstHtml:r,parseHtml:e=>r(e).evalTree(t.createElement,t.FragmentComponent)}}},199:(t,e,n)=>{function r(t){if(!t&&null==t)throw new Error("Encountered unexpected undefined value");return t}function i(t){return[...Array(t).fill(0)].map(((t,e)=>e))}function s(t){return"[object String]"===Object.prototype.toString.call(t)}function o(t,...e){if(!t)throw new Error(...e)}function a(t){return new Promise(((e,n)=>setTimeout(e,t)))}n.d(e,{C4:()=>_,Cq:()=>r,HD:()=>s,TL:()=>l,XT:()=>c,_v:()=>a,hu:()=>o,w6:()=>i});class l{static async sleep(t){await new Promise(((e,n)=>setTimeout(e,t)))}static async finish_all(t,{debug:e=!1}={}){return await new Promise(((n,r)=>{if(0==t.length)return n([]);let i=!1,s=0,o=t.map((t=>null));Promise.all(t.map((async(a,l)=>{try{o[l]=await a}catch(t){i=!0,o[l]=t,e&&console.error(...t)}s++,s==t.length&&(i?r(o):n(o))})))}))}static async finish_all_log(t){try{var e=await l.finish_all(t)}catch(t){e=t,console.error(...t),t.forEach((t=>console.warn(...t)))}return e}static async until(t,{ms:e=200,timeout:n=0}={}){n&&e>n&&(e=n/10);let r,i=(new Date).getTime();for(;!(r=await t());){if(n&&(new Date).getTime()-i>n)throw l.Timeout;await a(e)}return r}static Timeout=new Error("Timeout");static async timeout(t,e){let n=!1,[r,i]=await Promise.all([t.then((t=>(n=!0,t))),l.until((()=>n),{timeout:e})]);return r}}const _=l.until;class c{static createElement(t,{style:e={},id:n,classList:r=[],text:i,html:s,eventListeners:o={},parent:a,where:l,..._}={}){let c=document.createElement(t);return void 0!==n&&c.setAttribute("id",n),r.forEach((t=>c.classList.add(t))),void 0!==i&&(c.innerText=i),void 0!==s&&(c.innerHTML=s),void 0!==n&&(c.id=n),u.forEach(_,((t,e)=>c.setAttribute(e,t))),u.forEach(e,((t,e)=>c.style[e]=t)),u.forEach(o,((t,e)=>c.addEventListener(e,t))),(a||l)&&(l=l||"beforeend",(a=a||document.body).insertAdjacentElement(l,c)),c}static right_click(t){if(t.focus(),window.CustomEvent)t.dispatchEvent(new CustomEvent("contextmenu"));else if(document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent("contextmenu",!0,!1),t.dispatchEvent(e)}else t.fireEvent("oncontextmenu")}}class u{static indexBy(t,e){let n={};return t.forEach((t=>{let r=t[e];n[r]=t})),n}static map(t,e){return u._object_op("map",t,e)}static filter(t,e){return u._object_op("filter",t,e)}static apply(t,e){return u._object_op("apply",t,e)}static forEach(t,e){return u._object_op("forEach",t,e)}static _object_op(t,e,n){o(1<=n.length&&n.length<=3);let r={};for(let i of Object.keys(e)){let s=e[i],o=u._func(n,s,i,e);"map"==t?r[i]=o:"filter"==t?o&&(r[i]=s):"apply"==t&&(e[i]=o)}return"map"==t||"filter"==t?r:null}static _func(t,e,n,r){return 1==t.length?t(e):2==t.length?t(e,n):t(e,n,r)}static reduce_dots(t){let e=u.filter(t,((t,e)=>e.indexOf(".")>=0)),n=u.filter(t,((t,e)=>-1==e.indexOf(".")));return 0==Object.keys(e).length?n:(u.forEach(e,((t,e)=>{let r=e.slice(0,e.indexOf(".")),i=e.slice(e.indexOf(".")+1);n[r]=n[r]||{},n[r][i]=t})),u.reduce_dots(n))}static deep_assign(t,...e){for(let n of e)if(n)for(let e of Object.keys(n))void 0===t[e]||"object"!=typeof n[e]?t[e]=n[e]:u.deep_assign(t[e],n[e]);return t}static deep_copy(t,...e){if(void 0!==t)return null===t?null:Array.isArray(t)?t.map((t=>u.deep_copy(t))):"object"==typeof t?u.map(t,(t=>u.deep_copy(t))):"function"==typeof t?t:u.deep_assign(t,...e)}static deep_default(t,...e){let n=u.deep_copy(t);return u.deep_assign(n,...e)}static find(t,e){for(let n in t)if(u._func(e,t[n],n))return n;return null}static toEntries(t){return Object.keys(t).map((e=>[e,t[e]]))}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{__webpack_require__.d(__webpack_exports__,{default:()=>le});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{BruteForceQueue:()=>o,BruteForceSuffixArray:()=>l,Queue:()=>a,SuffixArray:()=>_,Treap:()=>u});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{injectStyle:()=>y,load:()=>v,parseKey:()=>g,scriptLoader:()=>m});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{Component:()=>L,Fragment:()=>S,cloneElement:()=>rt,createContext:()=>it,createElement:()=>M,createRef:()=>j,h:()=>M,hydrate:()=>nt,isValidElement:()=>x,options:()=>E,render:()=>et,toChildArray:()=>F});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{useCallback:()=>Ct,useContext:()=>Pt,useDebugValue:()=>$t,useEffect:()=>bt,useErrorBoundary:()=>Dt,useImperativeHandle:()=>xt,useLayoutEffect:()=>Et,useMemo:()=>kt,useReducer:()=>vt,useRef:()=>wt,useState:()=>yt});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{assert:()=>s.hu,collections:()=>t,contexts:()=>Ft,createAstParser:()=>h.j,createPreactParser:()=>St,defineFileComponent:()=>se,injectCompressedScript:()=>oe,injectStyle:()=>y,libraries:()=>Jt,listenToEvent:()=>zt,listenToGlobal:()=>Vt,load:()=>v,menu:()=>Gt,parse:()=>Zt,parseAst:()=>Qt,parseAstHtml:()=>Yt,parseElem:()=>re,parseHtml:()=>te,parseNoMarkup:()=>ne,parser:()=>Lt,plugin:()=>Ut,pluginDefs:()=>It,preact:()=>Xt,scriptLoader:()=>e,settings:()=>ae,sleep:()=>s._v,until:()=>ie});var s=__webpack_require__(199);const o=class{constructor(...t){this.arr=t||[]}get length(){return this.arr.length}*[Symbol.iterator](){for(let t of this.arr)yield t}pushRight(t){this.arr.push(t)}pushLeft(t){this.arr.unshift(t)}popRight(){return this.arr.pop()}popLeft(){return this.arr.shift()}},a=class{constructor(...t){this.arr=[...t||[]],this.start=0,this.iterI=0}get length(){return this.arr.length-this.start}_resize(){const t=1+(this.length>>1);this.arr=[...Array(t).fill(null),...this],this.iterI=this.iterI-this.start+t,this.start=t}*[Symbol.iterator](){for(this.iterI=this.start;this.iterI<this.arr.length;){let t=this.iterI++;yield this.arr[t]}}pushRight(t){this.arr.push(t)}pushLeft(t){0==this.start&&this._resize(),this.arr[--this.start]=t}popRight(){if(this.start!=this.arr.length)return 2*this.length<this.arr.length&&this._resize(),this.arr.pop()}popLeft(){if(this.start!=this.arr.length)return 2*this.length<this.arr.length&&this._resize(),this.arr[this.start++]}},l=t=>{let e=(0,s.HD)(t)?[...t].map(((e,n)=>t.charCodeAt(n))):t;const n=e.length,r=(0,s.w6)(n);return r.sort(((t,r)=>{for(let i=0;t+i<n&&r+i<n;i++){if(e[t+i]<e[r+i])return-1;if(e[t+i]>e[r+i])return 1}return t>r?-1:1})),{suffixArray:r}},_=t=>{let e=(0,s.HD)(t)?[...t].map(((e,n)=>t.charCodeAt(n))):t,n=e.length,r=0;for(;1<<r<=n;)r+=1;let i=!1;const o=t=>{let e=[...new Set(t)].sort(((t,e)=>t-e)),r=Object.fromEntries(e.map(((t,e)=>[t,e])));return e.length==n&&(i=!0),t.map((t=>r[t]))};e=o(e);for(let t=1;!i&&t<=n;t*=2)e=e.map(((n,i)=>(n<<r)+(e[i+t]||0))),e[n-t]-=1,e=o(e);const a=[...Array(n).fill(0)];for(let t=0;t<n;t++)a[e[t]]=t;return{suffixArray:a,pr:(e=10)=>{for(let r=0;r<n;r++){let n=a[r],i=(0,s.HD)(t)?t.substring(n,n+e):JSON.stringify(t.slice(r,n));i.includes("\n")&&(i=i.substring(0,i.indexOf("\n"))+"|"),console.log(`${r} ${n} ${i}`)}},rank:e}},c=2<<50;class u{key;minimum;priority;cnt=1;rvs=!1;left=null;right=null;constructor(t){this.key=t,this.minimum=t,this.priority=Math.random()}updateCnt(){this.cnt=1+(this.left?.cnt||0)+(this.right?.cnt||0)}updateMinimum(){this.minimum=Math.min(this.key,this.left?.minimum||c,this.right?.minimum||c)}push(){if(this.rvs){this.rvs=!1;let t=this.left;this.left=this.right,this.right=t,null!=this.left&&(this.left.rvs=!this.left.rvs),null!=this.right&&(this.right.rvs=!this.right.rvs)}}merge(t,e){let n;t?.push(),e?.push(),t&&e?t.priority>e.priority?(t.right?.merge(t.right,e),n=t):(e.left?.merge(t,e.left),n=e):n=t||e,this!==n&&(this.key=n.key,this.minimum=n.minimum,this.priority=n.priority,this.cnt=n.cnt,this.rvs=n.rvs,this.left=n.left,this.right=n.right),this.updateCnt(),this.updateMinimum()}split(t,e,n=0){if(this.push(),n+(this.left?.cnt||0)<t){let r={left:this.right,right:e.right};this.right?.split(t,r,n+1+(this.left?.cnt||0)),e.left=this}else{let r={left:e.left,right:this.left};this.left?.split(t,r,n),e.right=this}this.updateCnt(),this.updateMinimum()}insert(t,e){const n=new u(e);let r={left:null,right:null};console.log(this),this.split(t,r),r.left?.merge(r.left,n),console.log(r),this.merge(r.left,r.right),console.log(this),this.updateCnt(),this.updateMinimum()}erase(t){this.push(),this.key==t?this.merge(this.left,this.right):this.key<t?this.right?.erase(t):this.left?.erase(t),this.updateCnt(),this.updateMinimum()}preorder(t=[]){return t.push(this.key),console.log(!!this.left,!!this.right),this.left?.preorder(t),this.right?.preorder(t),t}minimum_query(t,e){let n,r=null,i=null,s=null;n={left:r,right:i},this.split(t,n),({left:r,right:i}=n),n={left:i,right:s},i?.split(e-t+1,n),({left:i,right:s}=n);let o=i?.minimum||c;return this.merge(r,i),this.merge(this,s),o}reverse_query(t,e){let n,r=null,i=null,s=null;n={left:r,right:i},this.split(t,n),({left:r,right:i}=n),n={left:i,right:s},i?.split(e-t+1,n),({left:i,right:s}=n),null!=i&&(i.rvs=!0),this.merge(r,i),this.merge(this,s)}}var h=__webpack_require__(588);const p=[],d=["core-menu","core-about","katex","codemirror","phonetics"].map((t=>({key:`@${t}`,dist:`@dist/components/${t}${p.includes(t)?".lz":""}.js`,src:`plugins/${t}/plugin-${t}.js`}))),f=Object.fromEntries(d.map((t=>[t.key,t]))),m=(()=>{let t="./dist";for(const e of document.querySelectorAll("script")){const n=e.src.match(/^(.*)\/caph-docs\.(?:min\.)?js$/);n&&(t=n[1])}const e=document.getElementById("core-sources")||s.XT.createElement("div",{id:"core-sources",parent:document.head,where:"beforeend"}),n=(""+Math.random()).slice(2),r=e=>{let r=e.replace(/^@dist\/(.*)$/,((e,n)=>`${t}/${n}`));r.startsWith("./")&&(r+=`?${n}`),r=new URL(r,document.baseURI).href;let i=null;return f[e]&&({dist:i}=f[e]),{url:r,proxyKey:i}},i={};return{injectStyle:t=>{s.XT.createElement("style",{parent:e,where:"beforeend",text:t})},load:(t,{attrs:n={},parent:s=null,where:o="beforeend",autoAttrs:a=!0}={})=>{({url:t}=r(t));const l=t.split("#")[0].split("?")[0];null==s&&(s=e);const _=l.split(".").pop();let c="js"==_?"script":"css"==_?"link":null;if(null==c)throw new Error("Only .js and .css files can be _sources. Got: "+_+" "+t);let u={};a&&"link"==c&&(u={rel:"stylesheet",type:"text/css"}),Object.keys(n).forEach((t=>u[t]=n[t])),n=u,"script"==c&&(n.src=t),"link"==c&&(n.href=t),((t,e,n,r,s)=>{new Promise(((o,a)=>{if(i[t])return o(null);i[t]=!0;let l=document.createElement(e);for(let t in n)l.setAttribute(t,n[t]);let _=!1;l.onload=()=>{_||(_=!0,o(null))},l.onerror=t=>{_||(_=!0,a(t))},r.insertAdjacentElement(s,l)}))})(t,c,n,s,o)},div:e,dist:t,parseKey:r}})(),g=m.parseKey,y=m.injectStyle,v=m.load;var b,E,w,x,k,C,P,$={},D=[],T=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function R(t,e){for(var n in e)t[n]=e[n];return t}function A(t){var e=t.parentNode;e&&e.removeChild(t)}function M(t,e,n){var r,i,s,o={};for(s in e)"key"==s?r=e[s]:"ref"==s?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?b.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(s in t.defaultProps)void 0===o[s]&&(o[s]=t.defaultProps[s]);return O(t,o,r,i,null)}function O(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++w:i};return null==i&&null!=E.vnode&&E.vnode(s),s}function j(){return{current:null}}function S(t){return t.children}function L(t,e){this.props=t,this.context=e}function I(t,e){if(null==e)return t.__?I(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?I(t):null}function H(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return H(t)}}function U(t){(!t.__d&&(t.__d=!0)&&k.push(t)&&!q.__r++||C!==E.debounceRendering)&&((C=E.debounceRendering)||setTimeout)(q)}function q(){for(var t;q.__r=k.length;)t=k.sort((function(t,e){return t.__v.__b-e.__v.__b})),k=[],t.some((function(t){var e,n,r,i,s,o;t.__d&&(s=(i=(e=t).__v).__e,(o=e.__P)&&(n=[],(r=R({},i)).__v=i.__v+1,X(o,i,r,e.__n,void 0!==o.ownerSVGElement,null!=i.__h?[s]:null,n,null==s?I(i):s,i.__h),J(n,i),i.__e!=s&&H(i)))}))}function W(t,e,n,r,i,s,o,a,l,_){var c,u,h,p,d,f,m,g=r&&r.__k||D,y=g.length;for(n.__k=[],c=0;c<e.length;c++)if(null!=(p=n.__k[c]=null==(p=e[c])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?O(null,p,null,null,p):Array.isArray(p)?O(S,{children:p},null,null,null):p.__b>0?O(p.type,p.props,p.key,null,p.__v):p)){if(p.__=n,p.__b=n.__b+1,null===(h=g[c])||h&&p.key==h.key&&p.type===h.type)g[c]=void 0;else for(u=0;u<y;u++){if((h=g[u])&&p.key==h.key&&p.type===h.type){g[u]=void 0;break}h=null}X(t,p,h=h||$,i,s,o,a,l,_),d=p.__e,(u=p.ref)&&h.ref!=u&&(m||(m=[]),h.ref&&m.push(h.ref,null,p),m.push(u,p.__c||d,p)),null!=d?(null==f&&(f=d),"function"==typeof p.type&&p.__k===h.__k?p.__d=l=B(p,l,t):l=N(t,p,h,g,d,l),"function"==typeof n.type&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=t&&(l=I(h))}for(n.__e=f,c=y;c--;)null!=g[c]&&("function"==typeof n.type&&null!=g[c].__e&&g[c].__e==n.__d&&(n.__d=I(r,c+1)),Y(g[c],g[c]));if(m)for(c=0;c<m.length;c++)Q(m[c],m[++c],m[++c])}function B(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e="function"==typeof r.type?B(r,e,n):N(n,r,r,i,r.__e,e));return e}function F(t,e){return e=e||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){F(t,e)})):e.push(t)),e}function N(t,e,n,r,i,s){var o,a,l;if(void 0!==e.__d)o=e.__d,e.__d=void 0;else if(null==n||i!=s||null==i.parentNode)t:if(null==s||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,l=0;(a=a.nextSibling)&&l<r.length;l+=2)if(a==i)break t;t.insertBefore(i,s),o=s}return void 0!==o?o:i.nextSibling}function K(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||T.test(e)?n:n+"px"}function V(t,e,n,r,i){var s;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||K(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||K(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?z:G,s):t.removeEventListener(e,s?z:G,s);else if("dangerouslySetInnerHTML"!==e){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function G(t){this.l[t.type+!1](E.event?E.event(t):t)}function z(t){this.l[t.type+!0](E.event?E.event(t):t)}function X(t,e,n,r,i,s,o,a,l){var _,c,u,h,p,d,f,m,g,y,v,b,w,x=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(l=n.__h,a=e.__e=n.__e,e.__h=null,s=[a]),(_=E.__b)&&_(e);try{t:if("function"==typeof x){if(m=e.props,g=(_=x.contextType)&&r[_.__c],y=_?g?g.props.value:_.__:r,n.__c?f=(c=e.__c=n.__c).__=c.__E:("prototype"in x&&x.prototype.render?e.__c=c=new x(m,y):(e.__c=c=new L(m,y),c.constructor=x,c.render=tt),g&&g.sub(c),c.props=m,c.state||(c.state={}),c.context=y,c.__n=r,u=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=x.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=R({},c.__s)),R(c.__s,x.getDerivedStateFromProps(m,c.__s))),h=c.props,p=c.state,u)null==x.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==x.getDerivedStateFromProps&&m!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(m,y),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(m,c.__s,y)||e.__v===n.__v){c.props=m,c.state=c.__s,e.__v!==n.__v&&(c.__d=!1),c.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),c.__h.length&&o.push(c);break t}null!=c.componentWillUpdate&&c.componentWillUpdate(m,c.__s,y),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(h,p,d)}))}if(c.context=y,c.props=m,c.__v=e,c.__P=t,v=E.__r,b=0,"prototype"in x&&x.prototype.render)c.state=c.__s,c.__d=!1,v&&v(e),_=c.render(c.props,c.state,c.context);else do{c.__d=!1,v&&v(e),_=c.render(c.props,c.state,c.context),c.state=c.__s}while(c.__d&&++b<25);c.state=c.__s,null!=c.getChildContext&&(r=R(R({},r),c.getChildContext())),u||null==c.getSnapshotBeforeUpdate||(d=c.getSnapshotBeforeUpdate(h,p)),w=null!=_&&_.type===S&&null==_.key?_.props.children:_,W(t,Array.isArray(w)?w:[w],e,n,r,i,s,o,a,l),c.base=e.__e,e.__h=null,c.__h.length&&o.push(c),f&&(c.__E=c.__=null),c.__e=!1}else null==s&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Z(n.__e,e,n,r,i,s,o,l);(_=E.diffed)&&_(e)}catch(t){e.__v=null,(l||null!=s)&&(e.__e=a,e.__h=!!l,s[s.indexOf(a)]=null),E.__e(t,e,n)}}function J(t,e){E.__c&&E.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){E.__e(t,e.__v)}}))}function Z(t,e,n,r,i,s,o,a){var l,_,c,u=n.props,h=e.props,p=e.type,d=0;if("svg"===p&&(i=!0),null!=s)for(;d<s.length;d++)if((l=s[d])&&"setAttribute"in l==!!p&&(p?l.localName===p:3===l.nodeType)){t=l,s[d]=null;break}if(null==t){if(null===p)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),s=null,a=!1}if(null===p)u===h||a&&t.data===h||(t.data=h);else{if(s=s&&b.call(t.childNodes),_=(u=n.props||$).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!a){if(null!=s)for(u={},d=0;d<t.attributes.length;d++)u[t.attributes[d].name]=t.attributes[d].value;(c||_)&&(c&&(_&&c.__html==_.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(function(t,e,n,r,i){var s;for(s in n)"children"===s||"key"===s||s in e||V(t,s,null,n[s],r);for(s in e)i&&"function"!=typeof e[s]||"children"===s||"key"===s||"value"===s||"checked"===s||n[s]===e[s]||V(t,s,e[s],n[s],r)}(t,h,u,i,a),c)e.__k=[];else if(d=e.props.children,W(t,Array.isArray(d)?d:[d],e,n,r,i&&"foreignObject"!==p,s,o,s?s[0]:n.__k&&I(n,0),a),null!=s)for(d=s.length;d--;)null!=s[d]&&A(s[d]);a||("value"in h&&void 0!==(d=h.value)&&(d!==t.value||"progress"===p&&!d||"option"===p&&d!==u.value)&&V(t,"value",d,u.value,!1),"checked"in h&&void 0!==(d=h.checked)&&d!==t.checked&&V(t,"checked",d,u.checked,!1))}return t}function Q(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){E.__e(t,n)}}function Y(t,e,n){var r,i;if(E.unmount&&E.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Q(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){E.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Y(r[i],e,"function"!=typeof t.type);n||null==t.__e||A(t.__e),t.__e=t.__d=void 0}function tt(t,e,n){return this.constructor(t,n)}function et(t,e,n){var r,i,s;E.__&&E.__(t,e),i=(r="function"==typeof n)?null:n&&n.__k||e.__k,s=[],X(e,t=(!r&&n||e).__k=M(S,null,[t]),i||$,$,void 0!==e.ownerSVGElement,!r&&n?[n]:i?null:e.firstChild?b.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r),J(s,t)}function nt(t,e){et(t,e,nt)}function rt(t,e,n){var r,i,s,o=R({},t.props);for(s in e)"key"==s?r=e[s]:"ref"==s?i=e[s]:o[s]=e[s];return arguments.length>2&&(o.children=arguments.length>3?b.call(arguments,2):n),O(t.type,o,r||t.key,i||t.ref,null)}function it(t,e){var n={__c:e="__cC"+P++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,r;return this.getChildContext||(n=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(U)},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.__=n.Consumer.contextType=n}b=D.slice,E={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&null!=s.getDerivedStateFromError&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(e){t=e}throw t}},w=0,x=function(t){return null!=t&&void 0===t.constructor},L.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=R({},this.state),"function"==typeof t&&(t=t(R({},n),this.props)),t&&R(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),U(this))},L.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),U(this))},L.prototype.render=S,k=[],q.__r=0,P=0;var st,ot,at,lt,_t=0,ct=[],ut=[],ht=E.__b,pt=E.__r,dt=E.diffed,ft=E.__c,mt=E.unmount;function gt(t,e){E.__h&&E.__h(ot,t,_t||e),_t=0;var n=ot.__H||(ot.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:ut}),n.__[t]}function yt(t){return _t=1,vt(jt,t)}function vt(t,e,n){var r=gt(st++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):jt(void 0,e),function(t){var e=r.__N?r.__N[0]:r.__[0],n=r.t(e,t);e!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=ot,!ot.u)){ot.u=!0;var i=ot.shouldComponentUpdate;ot.shouldComponentUpdate=function(t,e,n){if(!r.__c.__H)return!0;var s=r.__c.__H.__.filter((function(t){return t.__c}));if(s.every((function(t){return!t.__N})))return!i||i.call(this,t,e,n);var o=!1;return s.forEach((function(t){if(t.__N){var e=t.__[0];t.__=t.__N,t.__N=void 0,e!==t.__[0]&&(o=!0)}})),!!o&&(!i||i.call(this,t,e,n))}}return r.__N||r.__}function bt(t,e){var n=gt(st++,3);!E.__s&&Ot(n.__H,e)&&(n.__=t,n.i=e,ot.__H.__h.push(n))}function Et(t,e){var n=gt(st++,4);!E.__s&&Ot(n.__H,e)&&(n.__=t,n.i=e,ot.__h.push(n))}function wt(t){return _t=5,kt((function(){return{current:t}}),[])}function xt(t,e,n){_t=6,Et((function(){return"function"==typeof t?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0}),null==n?n:n.concat(t))}function kt(t,e){var n=gt(st++,7);return Ot(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function Ct(t,e){return _t=8,kt((function(){return t}),e)}function Pt(t){var e=ot.context[t.__c],n=gt(st++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(ot)),e.props.value):t.__}function $t(t,e){E.useDebugValue&&E.useDebugValue(e?e(t):t)}function Dt(t){var e=gt(st++,10),n=yt();return e.__=t,ot.componentDidCatch||(ot.componentDidCatch=function(t){e.__&&e.__(t),n[1](t)}),[n[0],function(){n[1](void 0)}]}function Tt(){for(var t;t=ct.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(At),t.__H.__h.forEach(Mt),t.__H.__h=[]}catch(e){t.__H.__h=[],E.__e(e,t.__v)}}E.__b=function(t){ot=null,ht&&ht(t)},E.__r=function(t){pt&&pt(t),st=0;var e=(ot=t.__c).__H;e&&(at===ot?(e.__h=[],ot.__h=[],e.__.forEach((function(t){t.__N&&(t.__=t.__N),t.__V=ut,t.__N=t.i=void 0}))):(e.__h.forEach(At),e.__h.forEach(Mt),e.__h=[])),at=ot},E.diffed=function(t){dt&&dt(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==ct.push(e)&&lt===E.requestAnimationFrame||((lt=E.requestAnimationFrame)||function(t){var e,n=function(){clearTimeout(r),Rt&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Rt&&(e=requestAnimationFrame(n))})(Tt)),e.__H.__.forEach((function(t){t.i&&(t.__H=t.i),t.__V!==ut&&(t.__=t.__V),t.i=void 0,t.__V=ut}))),at=ot=null},E.__c=function(t,e){e.some((function(t){try{t.__h.forEach(At),t.__h=t.__h.filter((function(t){return!t.__||Mt(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],E.__e(n,t.__v)}})),ft&&ft(t,e)},E.unmount=function(t){mt&&mt(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{At(t)}catch(t){e=t}})),e&&E.__e(e,n.__v))};var Rt="function"==typeof requestAnimationFrame;function At(t){var e=ot,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),ot=e}function Mt(t){var e=ot;t.__c=t.__(),ot=e}function Ot(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function jt(t,e){return"function"==typeof e?e(t):e}const St=()=>{const t=(0,h.j)();return t.settings.FragmentComponent=S,t.settings.createElement=(t,e,...n)=>{if(e&&e.hasOwnProperty("(component)")){let n=e["(component)"];t=Ut(n)}return M(t,e,...n)},t},Lt=St(),It={},Ht={},Ut=t=>{const e=Ht;return e[t]||(e[t]=Wt(t))},qt={},Wt=t=>{const e=qt;return e[t]||(e[t]=Bt(t))},Bt=t=>{const e={Component:null,error:null,renderReady:!1};function n({children:n,...r}){try{const i=(0,s.Cq)(e.Component)({children:n,...r});return(0,s.hu)(!i.then,`Your component can not be a promise itself (${t}).\n      Maybe you defined pluginDefs[...] = (async ()=>{...}) instead of pluginDefs[...] = (async ()=>{...})()?\n      Please follow the IIFE pattern for async promises.`),i}catch(e){return console.error(`Rendering error in plugin ${t}:`,e),Lt.parse`<code class="caph-flashing">${n||"...error..."}</code>`}}function r({children:e}){return Lt.parse`
    <code class="caph-flashing" title=${`${t} is loading...`}>${e||"..."}</code>`}function i({}){return Lt.parse`<${Ut("core-error")} tooltip=${e.error}/>`}const{url:o,proxyKey:a}=g(t);return(async()=>{try{It.hasOwnProperty(t)||(a?It[t]=Wt(a):o?(v(o),await(0,s.C4)((()=>It[o]),{timeout:3800}),It[t]=It[o],t!=o&&delete It[o]):await(0,s.C4)((()=>It[t]),{timeout:3800}))}catch(n){return e.error=n||!0,void console.error(`Could not load plugin ${t}`,n)}(async()=>{try{e.Component=await It[t],e.renderReady=!0}catch(n){e.error=n||!0,console.log(It[t]),console.error(`Error while awaiting pluginDefs["${t}"]`,n)}})()})(),({children:t,...o})=>{const[a,l]=yt(0),_=Ct((async()=>{await(0,s.C4)((()=>e.renderReady||e.error)),l(1e12*Math.random())}),[]);return bt((()=>{_()}),[]),kt((()=>e.renderReady?n:e.error?i:r),[a])({children:t,...o})}};It["core-error"]=(async()=>({children:t,tooltip:e})=>{const n=Ct((()=>{const t=window.open("","_blank");if(!t)throw new Error("Popup blocked");t.document.write("\n      <div>\n        1. In tex, use \\lt and \\gt instead of &lt; and &gt;.\n        <br/>\n        2. In html, use \\$ instead of $.\n        <br/>\n        This prevents any parsing misunderstanding.\n      </div>\n    ")}),[]);return Lt.parse`
    <a href="./error-help" onclick=${t=>{t.preventDefault(),n()}}>(help?)</a> 
    <code class="caph-flashing caph-error" title=${e}>${t||e||"Error"}</code>
  `})(),Lt.settings.parsingRules=[{component:"@mathInline",start:/(?<!\\)\$(?!\$)/y,capture:/(.*?)(?<!\\)\$/sy},{component:"@mathDisplay",start:/(?<!\\)\$\$/y,capture:/(.*?)(?<!\\)\$\$/sy},{component:"@codeInline",start:/(?<!\\)`(?!``)/y,capture:/(.*?)(?<!\\)`/sy},{component:"@codeDisplay",start:/(?<!\\)```/y,capture:/(.*?)(?<!\\)```/sy}],It["@mathInline"]=({children:t})=>Lt.parse`
  <div (component)="@katex" displayMode=${!1}>${t}</div>
`,It["@mathDisplay"]=({children:t})=>Lt.parse`
  <div (component)="@katex" displayMode=${!0}>${t}</div>
`,It["@codeInline"]=({children:t})=>Lt.parse`
  <code>${t}</code>
`,It["@codeDisplay"]=({children:t})=>Lt.parse`
  <div><code>${t}</code></div>
`,y("\n.caph-error{\n  color: #ce1111;\n}\n.caph-flashing{\n  -webkit-animation: caphFlashingAnimation 1s linear infinite;\n  animation: caphFlashingAnimation 1s linear infinite;\n}\n@keyframes caphFlashingAnimation {\n  0% { opacity: 0.3; }\n  100% { opacity: 1; }\n}\n\n.caph-hidden{\n  display: none;\n}\n\n.caph-box-shadow{\n  box-shadow: 0px 0px 0.3rem 0.05rem var(--box-shadow);\n}\n.caph-box-shadow:hover{\n  box-shadow: 0px 0px 0.3rem 0.2rem var(--box-shadow);\n}\n.caph-fullscreen-layer{\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 100;\n}\n.caph-hbox{ display: flex; }\n.caph-vbox{ display: flex; flex-direction: column; }\n.caph-boxcenter{ justify-content: center; }\n.caph-space-around{ justify-content: space-around; }\n.caph-space-between{ justify-content: space-between; }\n.caph-flex{ flex: 1; }\n.caph-hidden{ display:none; }\n.caph-plugin-hidden{ display:none; }\n.caph-border{\n  border: solid 2px var(--text-strong);\n}");const Ft={};Ft["core-menu"]=it(null);const Nt={};function Kt(t,e){Nt[t]=e;let n=new CustomEvent(t,{detail:e});window.dispatchEvent(n)}function Vt(t){const e=kt((()=>Nt[t]),[t]),[n,r]=yt(e);return zt(t,r),n}const Gt=new class{constructor(){this.addOption("Default",{hold:!0}),this.latest=this.option="Default"}options=[];onEnter={};onExit={};hold={};addOption(t,{onEnter:e,onExit:n,hold:r}={}){this.onEnter[t]=e,this.onExit[t]=n,this.hold[t]=r,this.options[t]||(this.options.push(t),this.options[t]=1,Kt("caph-menu-options",Math.random()))}setOption(t){Kt("caph-menu-option",Math.random()),this.hold[t]&&(this.onExit[this.latest]&&this.onExit[this.latest](),this.latest=this.option,this.option=t),this.onEnter[t]&&this.onEnter[t]()}};function zt(t,e){bt((()=>{const n=t=>{try{e(t.detail)}catch(t){}};return window.addEventListener(t,n),()=>{window.removeEventListener(t,n)}}),[t,e])}s.TL.until((()=>document.body)).then((()=>{!async function(t){et(t,document.body)}(Lt.parse`
    <${Ut("@core-menu")}/>
    <${Ut("@core-about")}/>
  `)}));const Xt={...n,...r};window.preact=Xt;const Jt={};Jt.preact=Xt,(async()=>{Jt.lzutf8=await s.TL.until((()=>window.LZUTF8))})();const{parse:Zt,parseAst:Qt,parseAstHtml:Yt,parseHtml:te}=Lt,ee=St();ee.settings.customRules=[];const{parse:ne}=ee,re=(t,e)=>{const n=t.innerHTML;return e&&("clear"==e?t.innerHTML="":"remove"==e?t.remove():"hide"==e&&t.classList.add("caph-hidden")),te(n)},ie=s.TL.until,se=t=>{const e=(0,s.Cq)(document?.currentScript),n=e.getAttribute("data-original-src")||e.src;It[n]=t},oe=async(t,e)=>{await v("@dist/lzutf8.min.js"),await ie((()=>window.LZUTF8));const n=(s=window.LZUTF8,o=e,s.decompress(o,{inputEncoding:"Base64"})),r=document.createElement("script"),{url:i}=g(t);var s,o;r.setAttribute("data-original-src",i),r.innerHTML=n,document.getElementById("core-sources")?.insertAdjacentElement("beforeend",r)},ae={get mathParser(){return Lt.mathParser},mathMacros:{},set mathParser(t){Lt.mathParser=t}};y("\ndiv.caph-paragraph + div.caph-paragraph { margin-top: 1em; }\n.caph-paragraph h1,h2,h3,h4,h5,h6,ul,ol{ margin:0; }\ncode {\n  padding: 0em 0.2em;\n  background-color: #f8f9fa;\n  color: #000;\n  border: 1px solid #eaecf0;\n  border-radius: 2px;\n}\n"),y("\n.tabs-header>label>input { display: none; }\n.tabs-parent { width: 100%; }\n.tabs-header {\n  margin-top: 0.1em;\n  border-bottom: 1px solid;\n}\n.tab-label:hover {\n  top: -0.25rem;\n  transition: top 0.25s;\n}\n.tabs{\n  border: solid 1px;\n  border-top: none;\n}\n.tab-label {\n  padding-left: 1em;\n  padding-right: 1em;\n  border-radius: 0.3em 0.3em 0 0;\n  background: unset;\n  border: solid 1px;\n  white-space:nowrap;\n}\n/* https://stackoverflow.com/a/10148189/3671939 */\n.tab-label { white-space:nowrap; }\n.tab-label > span{ white-space: normal; }\n\n.tab-label-true {\n  font-weight: bold;\n  border-bottom: solid 2px white;\n}\n.tab-content-false { display:none; }\n.tab-content-true {\n  display: true;\n  opacity: 1;\n\tanimation-name: fadeInOpacity;\n\tanimation-iteration-count: 1;\n\tanimation-timing-function: ease-in;\n\tanimation-duration: 0.15s;\n}\n@keyframes fadeInOpacity {\n\t0% { opacity: 0; }\n\t100% { opacity: 1;}\n}\n.tab-content-true { padding: 1vw; }\n"),It["@tabs"]=({labels:t,defaultLabel:e,children:n})=>{const r=kt((()=>F(n).map(((e,n)=>({label:t[n]||`Tab ${n+1}`,child:e})))),[t,n]),[i,s]=yt(e||r[0]?.label);return Zt`
  <div class="tabs-parent">
    <div class="tabs-header">
      ${t.map((t=>Zt`
        <label class="tab-label" class=${"tab-label-"+(i==t)}>
          <input type="radio" checked=${i==t} onClick=${()=>s(t)}/>
          <span>${t}</>
        </label>`))}
    </div>
    <div class="tabs">
      ${r.map((({label:t,child:e})=>Zt`
        <div class=${"tab-content-"+(i==t)}>${e}</>`))}
    </div>
  </>`};const le=i})(),window.caph=__webpack_exports__.default})();
//# sourceMappingURL=caph-docs.min.js.map